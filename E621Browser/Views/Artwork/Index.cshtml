@model List<ArtworkModel>

<h1>Lista Obrazków</h1>

<form id="searchForm" method="get" asp-controller="Artwork" asp-action="Search" onsubmit="submitSearchForm(); return false;">
    <label for="tags">Wyszukaj obrazki według tagów:</label>
    <input type="text" id="tags" name="tags" />
    <button type="submit">Szukaj</button>
</form>

<div class="artwork-grid">
    @foreach (var artwork in Model)
    {
        <div class="artwork-item">
            <img src="@artwork.PreviewUrl" alt="@artwork.Description" />
            <a asp-controller="Artwork" asp-action="Details" asp-route-id="@artwork.Id">Szczegóły</a>
        </div>
    }
</div>

<div>
    @if (Model.Any())
    {
        var currentPage = ViewData["CurrentPage"] as int? ?? 1;

        if (currentPage > 1)
        {
            <a asp-action="Index" asp-controller="Artwork" asp-route-page="@(currentPage - 1)">Poprzednia strona</a>
        }

        <span>Strona @(currentPage)</span>

        <a asp-action="Index" asp-controller="Artwork" asp-route-page="@(currentPage + 1)">Następna strona</a>
    }
</div>

<script>
    function submitSearchForm() {
        var tags = document.getElementById('tags').value;
        var url = '/Artwork/Search/' + encodeURIComponent(tags);
        window.location.href = url;
    }
</script>
